cd ~/DubstepEQ

# Step 1: Enable AndroidX
echo -e "android.useAndroidX=true\nandroid.enableJetifier=true" >> gradle.properties

# Step 2: Make sure Gradle caches are clean
./gradlew cleanBuildCache

# Step 3: Delete existing AAPT2 binaries (forces re-download)
rm -rf ~/.gradle/caches/transforms-3/*aapt2*

# Step 4: Make sure JAVA_HOME is correct
export JAVA_HOME=/data/data/com.termux/files/usr/lib/jvm/java-17-openjdk
export PATH=$JAVA_HOME/bin:$PATH

# Step 5: Clean previous build artifacts
./gradlew clean

# Step 6: Build debug APK and force Gradle to refresh dependencies
./gradlew assembleDebug --refresh-dependencies

android.useAndroidX=true
android.enableJetifier=true
android.useAndroidX=true
android.enableJetifier=true
